{"mappings":"AAAAA,EAAEC,UAAUC,OAAM,WAwB0BC,IAIhCC,EA1BRH,SAASI,eAAe,WAAWF,QAAU,eACvCG,EAAaL,SAASM,cAAc,uBACpCC,EAAeP,SAASM,cAAc,kCAGtCE,EAAmBH,EAAWI,WAAU,GACxCC,EAASF,EAAiBG,iBAAiB,mBAC/CD,EAASE,MAAMC,KAAKH,GACpBA,EAAOI,KAAIC,GAASA,EAAMC,MAAQ,KAElCT,EAAaU,YAAYT,GACzBU,QAAQC,IAAI,gBAGdnB,SAASI,eAAe,cAAcF,QAAU,WAC/BF,SAASI,eAAe,oBAAoBgB,KAAKC,OAEjD,GACbrB,SAASI,eAAe,oBAAoBkB,WAAW,IAI3DtB,SAASI,eAAe,gBAAgBF,SAIhCC,EAAQH,SAASuB,uBAAuB,yBAE3BX,MAAMY,UAAUC,OAAOC,KAAKvB,GAAO,SAAUwB,GAC5DA,EAAKC,iBAAiB,UAAU,SAAUC,IACX,IAAzBF,EAAKG,kBACPD,EAAME,iBACNF,EAAMG,mBAERL,EAAKM,UAAUC,IAAI,oBAClB","sources":["./voy/view/static/js/data_entry.js"],"sourcesContent":["$(document).ready(function () {\n    // add row\n    document.getElementById(\"add_row\").onclick = function () {\n      let ticket_row = document.querySelector(\"tr[data-ticket-row]\");\n      let ticket_table = document.querySelector(\"table[data-ticket-table] tbody\");\n\n      // copy the row; find the values with 'querySelectorAll'; transform it into an array, which you map\n      let ticket_row_clone = ticket_row.cloneNode(true);\n      let inputs = ticket_row_clone.querySelectorAll(\"input, textarea\");\n      inputs = Array.from(inputs);\n      inputs.map(input => input.value = \"\");\n\n      ticket_table.appendChild(ticket_row_clone);\n      console.log(\"add new row\");\n    }\n    // delete last row of the table\n    document.getElementById(\"remove_row\").onclick = function () {\n      let rowCount = document.getElementById('data_entry_table').rows.length;\n      // if the table has more than 2 row you are allowed to delete the last row\n      if (rowCount > 2) {\n        document.getElementById(\"data_entry_table\").deleteRow(-1);\n      }\n    }\n\n    document.getElementById(\"submit_table\").onclick = function () {\n      // Disable form submissions if there are invalid fields\n      'use strict';\n        // Get the forms we want to add validation styles to\n        var forms = document.getElementsByClassName('needs-validation');\n        // Loop over them and prevent submission\n        var validation = Array.prototype.filter.call(forms, function (form) {\n          form.addEventListener('submit', function (event) {\n            if (form.checkValidity() === false) {\n              event.preventDefault();\n              event.stopPropagation();\n            }\n            form.classList.add('was-validated');\n          }, false);\n        });\n    }();\n  }\n\n)\n"],"names":["$","document","ready","onclick","forms","getElementById","ticket_row","querySelector","ticket_table","ticket_row_clone","cloneNode","inputs","querySelectorAll","Array","from","map","input","value","appendChild","console","log","rows","length","deleteRow","getElementsByClassName","prototype","filter","call","form","addEventListener","event","checkValidity","preventDefault","stopPropagation","classList","add"],"version":3,"file":"data_entry.js.map"}